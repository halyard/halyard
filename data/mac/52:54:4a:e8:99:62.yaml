hostname::hostname: hub
hostname::domain: servers.home.a-rwx.org
network::ignore:
  - ^lo$
  - ^wg0$
nginx::sites:
  pumidor.a-rwx.org:
    proxy_target: https://pumidor.servers.home.a-rwx.org
    tls_challengealias: pumidor.certs.a-rwx.org
    csp: "default-src 'self' http: https: ws: wss: data: blob: 'unsafe-inline' 'unsafe-eval'; frame-ancestors 'self';"
  nvr.a-rwx.org:
    proxy_target: https://10.0.1.150:9901
    tls_challengealias: nvr.certs.a-rwx.org
    csp: "default-src 'self' http: https: ws: wss: data: blob: 'unsafe-inline' 'unsafe-eval'; frame-ancestors 'self';"
    proxy_params:
      proxy_ssl_protocols: TLSv1.2 TLSv1.3
      proxy_ssl_ciphers: ECDHE-RSA-AES256-GCM-SHA384
wireguard::networks:
  wg0:
    puppet-dmz:
      address: 10.255.255.1
      endpoint: 96.126.107.11:41194
      keepalive: 15
    puppet-hub:
      address: 10.255.255.2
classes:
  - wireguard
  - nginx
